ntw() {
	dev="wlp3s0"

	{ echo "$dev"; nmcli device monitor 2> /dev/null; } |
		while read -r event; do
			case $event in
				"$dev"*)
					state=$(nmcli -g STATE g)
					case $state in
						connected)    icon=$ntw_wifi_good ;;
						connecting)   icon=$ntw_wifi_connecting ;;
						disconnected) icon=$ntw_wifi_disconnected ;;
					esac

					if ((show_ntw_name)); then
						cons=($(nmcli -g CONNECTION d))
						con=${cons[0]}
						echo "N$icon $con"
					else
						echo "N$icon"
					fi
				;;
			esac
		done
}

# vim: ft=sh
